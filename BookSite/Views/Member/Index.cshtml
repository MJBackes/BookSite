@model BookSite.Models.ViewModels.MemberIndexViewModel
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
@Html.ActionLink("Search For A Book", "Search", "Book", null, new { @class = "btn btn-primary" })
@Html.ActionLink("Search For A Book Club", "Search", "Club", null, new { @class = "btn btn-primary" })
@Html.ActionLink("Search For A Member", "Search", "Member", null, new { @class = "btn btn-primary" })
@Html.ActionLink("MyShelf", "MyShelf", "Member", null, new { @class = "btn btn-success" })
@Html.ActionLink("Create a Book Club", "Create", "Club", null, new { @class = "btn btn-success" })
@if (Model != null && Model.Clubs != null)
{
    <table class="table-striped" width="100%">
        <tr>
            <th class="col-md-3">
                Club Name
            </th>
            <th class="col-md-3">
                Current Book
            </th>
            <th class="col-md-6">

            </th>
        </tr>
        @foreach (BookSite.Models.SiteModels.BookClub club in Model.Clubs)
        {
            <tr>
                <td>
                    @club.Name
                </td>
                <td>
                    @if (club.NextBook != null)
                    {
                        @club.NextBook.Title
                    }
                    else
                    {
                        @Html.Raw("None");
                    }
                </td>
                <td style="text-align:center">
                    @Html.ActionLink("Home Page", "Index", "Club", new { id = club.Id }, new { @class = "btn btn-primary" })
                </td>
            </tr>
        }
    </table>

    <h3>Friends</h3>
    <table class="table-striped" width="100%">
        <tr>
            <th class="col-md-3">
                User Name
            </th>
            <th class="col-md-3">

            </th>
            <th class="col-md-6">

            </th>
        </tr>
        @foreach (BookSite.Models.SiteModels.Member friend in Model.Friends)
        {
            <tr>
                <td>
                    @Html.ActionLink(friend.DisplayName, "Details", "Member", new { id = friend.Id }, null)
                </td>
                <td>
                </td>
                <td style="text-align:center">
                    @Html.ActionLink("Remove Friend", "RemoveFriend", "Member", new { id = friend.Id }, new { @class = "btn btn-danger" })
                </td>
            </tr>
        }
    </table>
    if (Model.Recommendations.Count > 0)
    {
        <h3>Recommendations based on the books on your shelf:</h3>
        <div id="recommendCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" style="height: 200px">
                @for (int i = 0; (i < Model.Recommendations.Count && i < 5); i++)
                {
                    <div class="item @if (i == 0) {@Html.Raw("active")}">
                        <img src="@Model.Recommendations[i].Thumbnail" alt="@Model.Recommendations[i].Title">
                        <div class="carousel-caption">
                            <h4 style="color: black">@Model.Recommendations[i].Title</h4>
                            @Html.ActionLink("Link", "Details", "Book", new { id = Model.Recommendations[i].GoogleVolumeId }, null)
                        </div>
                    </div>
                }
            </div>
            <a class="left carousel-control" href="#recommendCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#recommendCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    }
    if (Model.AuthorBooks.Count > 0)
    {
        <h3>More by authors you know:</h3>
        <div id="authorCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" style="height: 200px">
                @for (int i = 0; (i < Model.AuthorBooks.Count && i < 5); i++)
                {
                    <div class="item @if (i == 0) {@Html.Raw("active")}">
                        <img src="@Model.AuthorBooks[i].Thumbnail" alt="@Model.AuthorBooks[i].Title">
                        <div class="carousel-caption">
                            <h4 style="color: black">@Model.AuthorBooks[i].Title</h4>
                            @Html.ActionLink("Link", "Details", "Book", new { id = Model.AuthorBooks[i].GoogleVolumeId }, null)
                        </div>
                    </div>
                }
            </div>
            <a class="left carousel-control" href="#authorCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#authorCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    }
    if (Model.SubjectBooks.Count > 0)
    {
        <h3>Recommendations based on Subjects/Genres you know:</h3>
        <div id="subjectCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" style="height: 200px">
                @for (int i = 0; (i < Model.SubjectBooks.Count && i < 5); i++)
                {
                    <div class="item @if (i == 0) {@Html.Raw("active")}">
                        <img src="@Model.SubjectBooks[i].Thumbnail" alt="@Model.SubjectBooks[i].Title">
                        <div class="carousel-caption">
                            <h4 style="color: black">@Model.SubjectBooks[i].Title</h4>
                            @Html.ActionLink("Link", "Details", "Book", new { id = Model.SubjectBooks[i].GoogleVolumeId }, null)
                        </div>
                    </div>
                }
            </div>
            <a class="left carousel-control" href="#subjectCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#subjectCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    }
    if (Model.FriendsBooks.Count > 0)
    {
        <h3>Recomendations based on your friends shelves:</h3>
        <div id="friendCarousel" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner" style="height: 200px">
                @for (int i = 0; (i < Model.FriendsBooks.Count && i < 5); i++)
                {
                    <div class="item @if (i == 0) {@Html.Raw("active")}">
                        <img src="@Model.FriendsBooks[i].Thumbnail" alt="@Model.FriendsBooks[i].Title">
                        <div class="carousel-caption">
                            <h4 style="color: black">@Model.FriendsBooks[i].Title</h4>
                            @Html.ActionLink("Link", "Details", "Book", new { id = Model.FriendsBooks[i].GoogleVolumeId }, null)
                        </div>
                    </div>
                }
            </div>
            <a class="left carousel-control" href="#friendCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#friendCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    }
}
